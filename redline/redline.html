<!DOCTYPE html>
<html>
<head>

<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />

<link rel="stylesheet" href="mmap.css" type="text/css"/>


<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>

<script type="text/javascript">
    function initialize() {
    var mapOptions = {
        center: { lat: -34.397, lng: 150.644},
        zoom: 8 
    };

        var map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
    }
    google.maps.event.addDomListener(window, 'load', initialize);

    var xmlhttp = new XMLHttpRequest();
    var url = "http://developer.mbta.com/lib/rthr/red.json";

    xmlhttp.onreadystatechange = function() {
        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
            var mapData = JSON.parse(xmlhttp.responseText);
            myFunction(mapData);
        }
    }

    xmlhttp.open("GET", url, true);
    xmlhttp.send();

    function myFunction(jsonData) {

        document.getElementById("map-canvas").innerHTML = jsonData;
    }

</script>

</head>

<body>
    <div id="map-canvas"></div>
</body>

</html>